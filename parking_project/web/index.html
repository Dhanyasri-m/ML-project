<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Parking Slot Prediction</title>
  <style>
    body { font-family: Arial, sans-serif; text-align:center; margin-top:40px; }
    .slot { font-size:22px; padding:12px; border-radius:8px; display:inline-block; margin:10px; width:220px; }
    .free { background:#d4f7d4; }
    .occ { background:#f7d4d4; }
  </style>
</head>
<body>
  <h1>Parking Slot Prediction (Quick Demo)</h1>

  <div>
    <label>Select slot:
      <select id="slot">
        <option>S1</option><option>S2</option><option>S3</option><option>S4</option><option>S5</option>
      </select>
    </label>
    <button onclick="getPrediction()">Get Prediction</button>
  </div>

  <div id="result" style="margin-top:20px;"></div>

<script>
async function getPrediction(){
  const slot = document.getElementById("slot").value;
  const res = await fetch(`http://127.0.0.1:8000/predict?slot=${slot}`);
  const data = await res.json();
  const out = document.getElementById("result");
  if (data.error) {
    out.innerHTML = `<div style="color:red">${data.error}</div>`;
    return;
  }
  const status = data.predicted_status === 0 ? "FREE" : "OCCUPIED";
  const cls = data.predicted_status === 0 ? "free" : "occ";
  out.innerHTML = `
    <div class="slot ${cls}">
      <strong>Slot ${slot}</strong><br/>
      Predicted status: <strong>${status}</strong><br/>
      Probability: ${data.prediction_prob.toFixed(3)}
    </div>
  `;
}
</script>
</body>
</html>
